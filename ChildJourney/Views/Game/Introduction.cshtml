@model ChildJourney.ViewModels.AdminViewModel
@using ChildJourney.Controllers;
@using Newtonsoft.Json
@{
    ViewData["Title"] = "Introduction";
    User response = JsonConvert.DeserializeObject<User>(Context.Session.GetString("CurrentUser"));
}

<style>
    body {
        background-image: url("");
        background-repeat: no-repeat;
        background-attachment: fixed;
        background-size: cover;
    }
</style>

<div id="Centerwrapper">
    <div id="wrapper" align="center" class="wrapper">
        <div class="inner" style="border-radius: 25px; border-color:lightgray">
            <label id="Dwindow">Hello there @response.Name, Are you new here?</label>
            <button id="Yes" onclick="Yesbutton()">Yes</button>
            <button id="No" onclick="Nobutton()">No</button>
        </div>
    </div>
    <div Id="pickwrapper"class="container-fluid" style="display:none;">
        <div class="row">
            <div class="col-sm-9" style="height:700px">
                @foreach (var item in Model.bodyParts)
                {
                    
                    if (item.Type == "Eyes")
                    {
                        <div style="display:inline-block ; width:130px ; margin:0 0 30px 0; background-color:white">
                            <button onclick="AddToBody('@item.Id')">
                                <table class="table">
                                    <tr>
                                        <td><img src="@item.Image" style="width:100px; height:100px;" align="center"/></td>
                                    </tr>
                                    <tr>
                                        <td><label align="center"> @item.Name @item.Type</label></td>
                                    </tr>
                                </table>
                                </button>
                        </div> 
                    }
                   
                }
            </div>
        </div>
    </div>
    <div Id="pickwrapper1" class="container-fluid" style="display:none;">
        <div class="row">
            <div class="col-sm-9" style="height:700px">
                @foreach (var item in Model.bodyParts)
                {
                    if (item.Type == "Hair")
                    {
                        <div style="display:inline-block ; width:130px ; margin:0 0 30px 0; background-color:white">
                            <button onclick="AddToBody('@item.Id')">
                            <table class="table">
                                <tr>
                                    <td><img src="@item.Image" style="width:100px; height:100px;" align="center" /></td>
                                </tr>
                                <tr>
                                    <td><label align="center"> @item.Name @item.Type</label></td>
                                </tr>
                            </table>
                            </button>
                        </div>
                    }
                }
            </div>
        </div>
    </div>
    <div Id="pickwrapper2" class="container-fluid" style="display:none;">
        <div class="row">
            <div class="col-sm-9" style="height:700px">
                @foreach (var item in Model.bodyParts)
                {
                    if (item.Type == "Mouth")
                    {
                        <div style="display:inline-block ; width:130px ; margin:0 0 30px 0; background-color:white">
                            <button onclick="AddToBody('@item.Id')">
                            <table class="table">
                                <tr>
                                    <td><img src="@item.Image" style="width:100px; height:100px;" align="center" /></td>
                                </tr>
                                <tr>
                                    <td><label align="center"> @item.Name @item.Type</label></td>
                                </tr>
                            </table>
                            </button>
                        </div>
                    }
                }
            </div>
        </div>
    </div>
    <div Id="pickwrapper3" class="container-fluid" style="display:none;">
        <div class="row">
            <div class="col-sm-9" style="height:700px">
                @foreach (var item in Model.Body_BodyParts)
                {
                    if (response.BodyId != null)
                    {
                        if (item.BodyId == response.BodyId)
                        {
                            <div style="display:inline-block ; width:130px ; margin:0 0 30px 0; background-color:white">
                                <table class="table">
                                    <tr>
                                        <td><img src="@item.BodyPart.Image" style="width:100px; height:100px;" align="center" /></td>
                                    </tr>
                                    <tr>
                                        <td><label align="center"> @item.BodyPart.Name @item.BodyPart.Type</label></td>
                                    </tr>
                                </table>
                            </div>
                        }
                    }
                }
            </div>
        </div>
    </div>
    <div Id="pickwrapper4" class="container-fluid" style="display:none;">
        <div class="row">
            <div class="col-sm-9" style="height:700px">
                @foreach (var item in Model.clothing)
                {
                    if (item.Type == "Hat")
                    {
                        <div style="display:inline-block ; width:130px ; margin:0 0 30px 0; background-color:white">
                            <button onclick="AddToOutfit('@item.Id')">
                            <table class="table">
                                <tr>
                                    <td><img src="@item.Image" style="width:100px; height:100px;" align="center" /></td>
                                </tr>
                                <tr>
                                    <td><label align="center"> @item.Name @item.Type</label></td>
                                </tr>
                            </table>
                            </button>
                        </div>
                    }
                }
            </div>
        </div>
    </div>
    <div Id="pickwrapper5" class="container-fluid" style="display:none;">
        <div class="row">
            <div class="col-sm-9" style="height:700px">
                @foreach (var item in Model.clothing)
                {
                    if (item.Type == "Shirt")
                    {
                        <div style="display:inline-block ; width:130px ; margin:0 0 30px 0; background-color:white">
                            <button onclick="AddToOutfit('@item.Id')">
                            <table class="table">
                                <tr>
                                    <td><img src="@item.Image" style="width:100px; height:100px;" align="center" /></td>
                                </tr>
                                <tr>
                                    <td><label align="center"> @item.Name @item.Type</label></td>
                                </tr>
                            </table>
                            </button>
                        </div>
                    }
                }
            </div>
        </div>
    </div>
    <div Id="pickwrapper6" class="container-fluid" style="display:none;">
        <div class="row">
            <div class="col-sm-9" style="height:700px">
                @foreach (var item in Model.clothing)
                {
                    if (item.Type == "Pants")
                    {
                        <div style="display:inline-block ; width:130px ; margin:0 0 30px 0; background-color:white">
                            <button onclick="AddToOutfit('@item.Id')">
                            <table class="table">
                                <tr>
                                    <td><img src="@item.Image" style="width:100px; height:100px;" align="center" /></td>
                                </tr>
                                <tr>
                                    <td><label align="center"> @item.Name @item.Type</label></td>
                                </tr>
                            </table>
                            </button>
                        </div>
                    }
                }
            </div>
        </div>
    </div>
    <div Id="pickwrapper7" class="container-fluid" style="display:none;">
        <div class="row">
            <div class="col-sm-9" style="height:700px">
                @foreach (var item in Model.Outfit_Clothings)
                {
                    if (response.OutfitId != null)
                    {
                        if (item.OutfitId == response.OutfitId)
                        {
                            <div style="display:inline-block ; width:130px ; margin:0 0 30px 0; background-color:white">
                                <table class="table">
                                    <tr>
                                        <td><img src="@item.Clothing.Image" style="width:100px; height:100px;" align="center" /></td>
                                    </tr>
                                    <tr>
                                        <td><label align="center"> @item.Clothing.Name @item.Clothing.Type</label></td>
                                    </tr>
                                </table>
                            </div>
                        }
                    }
                }
            </div>
        </div>
    </div>
</div>



<script>
    const dialoguelist = [];
    let Count = 0;

    function Yesbutton() {

        if (Count == 0) {
            AddToArray("Lets start with the basics!", dialoguelist);
            AddToArray("Step 2", dialoguelist);

            document.getElementById("Centerwrapper").className = "center-container";
            document.getElementById("Dwindow").innerHTML = dialoguelist[0];
            document.getElementById("Yes").innerHTML = "Next";
            document.getElementById("No").hidden = true;
            Count += 1;
        }
        else if (Count == 1) {
            const index = dialoguelist.indexOf(document.getElementById("Dwindow").innerHTML);
            document.getElementById("Dwindow").innerHTML = dialoguelist[index + 1];
        }
    }

    function Nobutton() {
        if (Count == 0) {
            AddToArray("Lets start creating your character then!", dialoguelist)
            AddToArray("Now let's start by picking some beautiful looking Eyes!", dialoguelist)
            AddToArray("Now let's start by picking some beautiful looking Hair!", dialoguelist)
            AddToArray("Now let's start by picking some beautiful looking Mouth!", dialoguelist)
            AddToArray("You look amazing!!!", dialoguelist)
            AddToArray("Now let's start by picking some beautiful looking Hat!", dialoguelist)
            AddToArray("Now let's start by picking some beautiful looking Shirt!", dialoguelist)
            AddToArray("Now let's start by picking some beautiful looking Pants!", dialoguelist)
            AddToArray("What a great look!", dialoguelist)

            document.getElementById("Dwindow").innerHTML = dialoguelist[0]
            document.getElementById("Yes").hidden = true;
            document.getElementById("No").innerHTML = "Next";
            Count += 1;
        }
        else if (Count == 1) {
            const index = dialoguelist.indexOf(document.getElementById("Dwindow").innerHTML);
            document.getElementById("Dwindow").innerHTML = dialoguelist[index + 1];
        }
        if (document.getElementById("Dwindow").innerHTML == "Now let's start by picking some beautiful looking Eyes!") 
        {
            document.getElementById("pickwrapper").style.display = "block";
        }
        else if (document.getElementById("Dwindow").innerHTML == "Now let's start by picking some beautiful looking Hair!") 
        {
            document.getElementById("pickwrapper").style.display = "none";
            document.getElementById("pickwrapper1").style.display = "block";
        }
        else if (document.getElementById("Dwindow").innerHTML == "Now let's start by picking some beautiful looking Mouth!") 
        {
            document.getElementById("pickwrapper1").style.display = "none";
            document.getElementById("pickwrapper2").style.display = "block";
        }
        else if (document.getElementById("Dwindow").innerHTML == "You look amazing!!!") 
        {
            document.getElementById("pickwrapper2").style.display = "none";
            document.getElementById("pickwrapper3").style.display = "block";
        }
        else if (document.getElementById("Dwindow").innerHTML == "Now let's start by picking some beautiful looking Hat!") 
        {
            document.getElementById("pickwrapper3").style.display = "none";
            document.getElementById("pickwrapper4").style.display = "block";
        }
        else if (document.getElementById("Dwindow").innerHTML == "Now let's start by picking some beautiful looking Shirt!") 
        {
            document.getElementById("pickwrapper4").style.display = "none";
            document.getElementById("pickwrapper5").style.display = "block";
        }
        else if (document.getElementById("Dwindow").innerHTML == "Now let's start by picking some beautiful looking Pants!") 
        {
            document.getElementById("pickwrapper5").style.display = "none";
            document.getElementById("pickwrapper6").style.display = "block";
        }
        else if (document.getElementById("Dwindow").innerHTML == "What a great look!") 
        {
            document.getElementById("pickwrapper6").style.display = "none";
            document.getElementById("pickwrapper7").style.display = "block";
        }
    }
</script>
